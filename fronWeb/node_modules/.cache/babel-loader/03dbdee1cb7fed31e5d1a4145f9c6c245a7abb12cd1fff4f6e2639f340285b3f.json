{"ast":null,"code":"var _jsxFileName = \"/home/antonio/RepoGitHub/Achat_vente-Tovo2/frontend/src/View/Page/Admin/Table.js\";\nimport React, { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Table = _ref => {\n  let {\n    header,\n    listDemande,\n    departement\n  } = _ref;\n  if (departement !== \" \") listDemande = listDemande.filter(demande => demande.nomdepartement.includes(departement));\n  const ReponseDemande = (idarticle, idEtat, message) => {\n    var content = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    content.body = JSON.stringify({\n      idarticle_fixed: idarticle,\n      pivot: idEtat\n    });\n    fetch(\"http://127.0.0.1:3000/traiterDemande\", content).then(response => {\n      if (response.status === 200) {\n        window.location.href = \"/validationDemandeAchat\";\n      }\n    }).catch(err => {\n      console.error(err);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"table\", {\n    className: \"table\",\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: header.map((element, index) => /*#__PURE__*/_jsxDEV(\"th\", {\n          children: element\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: listDemande.map((element, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: element.nomdepartement\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: element.nom_article\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: element.qtt\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: element.nomunite\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: element.qualite\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: element.date_demande\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => ReponseDemande(element.idarticle_fixed, 1, \"validée\"),\n            children: \"Valider\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger\",\n            onClick: () => ReponseDemande(element.idarticle, -1, \"rejetée\"),\n            children: \"Rejeter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: console.log(element)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n_c = Table;\nexport default Table;\nvar _c;\n$RefreshReg$(_c, \"Table\");","map":{"version":3,"names":["React","useEffect","Table","header","listDemande","departement","filter","demande","nomdepartement","includes","ReponseDemande","idarticle","idEtat","message","content","method","headers","body","JSON","stringify","idarticle_fixed","pivot","fetch","then","response","status","window","location","href","catch","err","console","error","map","element","index","nom_article","qtt","nomunite","qualite","date_demande","log"],"sources":["/home/antonio/RepoGitHub/Achat_vente-Tovo2/frontend/src/View/Page/Admin/Table.js"],"sourcesContent":["import React, { useEffect } from \"react\";\n\nconst Table = ({ header, listDemande, departement }) => {\n  if (departement !== \" \")\n    listDemande = listDemande.filter((demande) =>\n      demande.nomdepartement.includes(departement)\n    );\n\n  const ReponseDemande = (idarticle, idEtat, message) => {\n    var content = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n\n    content.body = JSON.stringify({ idarticle_fixed: idarticle, pivot: idEtat });\n    fetch(\"http://127.0.0.1:3000/traiterDemande\", content)\n      .then((response) => {\n        if (response.status === 200) {\n          window.location.href = \"/validationDemandeAchat\";\n        }\n      })\n      .catch((err) => {   \n        console.error(err);\n      });\n  };\n  return (\n    <table className=\"table\">\n      <thead>\n        <tr>\n          {header.map((element, index) => (\n            <th key={index}>{element}</th>\n          ))}\n        </tr>\n      </thead>\n      <tbody>\n        {listDemande.map((element, index) => (\n          \n          <tr key={index}>\n            <td>{element.nomdepartement}</td>\n            <td>{element.nom_article}</td>\n            <td>{element.qtt}</td>\n            <td>{element.nomunite}</td>\n            <td>{element.qualite}</td>\n            <td>{element.date_demande}</td>\n            <td>\n              <button\n                className=\"btn btn-primary\"\n                onClick={() => ReponseDemande(element.idarticle_fixed, 1, \"validée\")}\n              >\n                Valider\n              </button>\n            </td>\n            <td>\n              <button\n                className=\"btn btn-danger\"\n                onClick={() => ReponseDemande(element.idarticle, -1, \"rejetée\")}\n              >\n                Rejeter\n              </button>\n            </td>\n            <td>{console.log(element)}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nexport default Table;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}